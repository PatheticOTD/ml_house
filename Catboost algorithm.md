каждый раз, когда создается дерево, данные перемешиваются и применяется [[CatboostEncoding]].

пороги для разделения датасета получаются путем кодировки категориальных переменных через [[CatboostEncoding]], замем их сортировки и нахождения градиентов с нижним соседом.

таргеты с неприрывным типом данных алгоритм распределяет по 'коробкам' (см. [[bins]]).

далее катбуст инициализирует нулём предикты ко всем рядам и считает остатки. 

по остаткам стоется дерево. изначально каждому листу присваевается значение 0. далее, по мере того 

по предиктам дерева и остаткам считается [[Cosine Similarity]], где А - остатки, а В - предикты дерева. 

Далее катбуст будет повторять вышенаписанное, пока не найдет дерево или ветку для дерева в наибольшим [[Cosine Similarity]]. 

когда лучшее дерево построено, к исходным предикат добавляют новые, умноженные не лернинг рейт. 

так как катбуст обрабатывает данные последовательно, каждое построенное дерево будет предсказывать 0 для первого сэмпла, который оно получило.
