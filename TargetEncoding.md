Можно присваивать классам среднее их таргетов. Например если у класса 'Blue' значения таргета это: 1, 0 , 0 
тогда кодировка будет 0.33.
Когда данных для вычисления среднего для одного из классов сильно меньше, чем у других, это сокращает нашу уверенность в правильном выборе кодировки для этого класса. Поэтому, вместо простого среднего предпочитают вычислять взвешенное среднее